(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[67],{573:function(e,o,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/password-reset/verify-test",function(){return r(107)}])},107:function(e,o,r){"use strict";r.r(o),r.d(o,{default:function(){return d}});var n=r(5893),s=r(7294),t=r(1163),i=r(610);function d(){let[e,o]=(0,s.useState)(""),[r,d]=(0,s.useState)(""),[l,a]=(0,s.useState)(!1),c=(0,t.useRouter)(),{email:u}=c.query,p=async o=>{o.preventDefault(),a(!0),d("");try{console.log("Sending request with:",{email:u,verificationCode:e}),(await i.E.auth.verifyResetCode({email:u,verificationCode:e})).data.success&&(console.log("Success!"),c.push("/password-reset/new-password"))}catch(o){var r,n,s,t;console.error("API Error caught:",o),console.error("Error response:",o.response),console.error("Error message:",null===(n=o.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message);let e=(null===(t=o.response)||void 0===t?void 0:null===(s=t.data)||void 0===s?void 0:s.message)||"Invalid code";console.log("Setting error to:",e),d(e)}finally{a(!1)}};return(0,s.useEffect)(()=>{console.log("Error state is:",r)},[r]),(0,n.jsxs)("div",{style:{padding:"20px",backgroundColor:"#FBF5DA",minHeight:"100vh"},children:[(0,n.jsx)("h1",{children:"Test Verify Page"}),(0,n.jsxs)("p",{children:["Email: ",u]}),r&&(0,n.jsxs)("div",{style:{backgroundColor:"#fff",border:"2px solid red",color:"red",padding:"20px",margin:"20px 0",fontSize:"18px",fontWeight:"bold"},children:["ERROR: ",r]}),(0,n.jsxs)("form",{onSubmit:p,children:[(0,n.jsx)("input",{type:"text",value:e,onChange:e=>o(e.target.value),placeholder:"Enter 4-digit code",style:{padding:"10px",fontSize:"16px",margin:"10px 0",display:"block"}}),(0,n.jsx)("button",{type:"submit",disabled:l,style:{padding:"10px 20px",fontSize:"16px",backgroundColor:"#2E3642",color:"white",border:"none",cursor:"pointer"},children:l?"Checking...":"Verify"})]}),(0,n.jsxs)("pre",{style:{marginTop:"20px",backgroundColor:"#eee",padding:"10px"},children:["Error State: ",JSON.stringify(r,null,2)]})]})}}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=573)}),_N_E=e.O()}]);