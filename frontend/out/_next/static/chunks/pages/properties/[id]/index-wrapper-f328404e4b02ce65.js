(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4225],{6871:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/properties/[id]/index-wrapper",function(){return r(6443)}])},6443:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return p}});var o=r(5893),a=r(7294),n=r(1163),i=r(1491),s=r(610);function p(){let e=(0,n.useRouter)(),{id:t}=e.query,{user:r,loading:p}=(0,i.a)(),[d,u]=(0,a.useState)(!0),l=(e,t,r)=>{if(!e.address||!e.deposit_amount||!e.lease_duration||!e.landlord_email&&!e.landlord_phone||!t||0===t.length)return!1;let o=!1;for(let e of t){let t=e.id||e.roomId;if((e.photoCount||(r[t]&&r[t].photos?r[t].photos.length:0))>0){o=!0;break}}return o};return(0,a.useEffect)(()=>{(async()=>{if(t&&!p){if(!r){e.push("/login");return}try{let r=(await s.E.properties.getById(t)).data,o=(await s.E.properties.getRooms(t)).data||[],a=await s.E.photos.getByProperty(t),n={};a.data&&a.data.forEach(e=>{e.room_id&&(n[e.room_id]||(n[e.room_id]={photos:[]}),n[e.room_id].photos.push(e))});let i=await s.E.reports.getByProperty(t),p=i.data&&i.data.length>0;l(r,o,n)&&p?e.push({pathname:"/properties/details",query:{propertyId:t}}):e.replace("/properties/".concat(t,"/index"))}catch(r){console.error("Error checking property status:",r),e.replace("/properties/".concat(t,"/index"))}finally{u(!1)}}})()},[t,r,p,e]),(0,o.jsx)("div",{className:"flex justify-center items-center h-screen bg-[#FBF5DA]",children:(0,o.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[#1C2C40]"})})}}},function(e){e.O(0,[2888,9774,179],function(){return e(e.s=6871)}),_N_E=e.O()}]);